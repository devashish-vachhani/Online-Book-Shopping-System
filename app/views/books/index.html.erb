<p style="color: green"><%= notice %></p>

<h1>Books</h1>
<% if can? :create, @book %><%= link_to "Create a new book", new_book_path, class: 'btn btn-primary float-end'%><% end %>
<%#= render 'books/search_form' %>
<table class="table table-striped table-hover">
  <thead class="thead-dark">
  <tr>
    <th>Name</th>
    <th>Author</th>
    <th>Publisher</th>
    <th>Price</th>
    <th>Stock</th>
  </tr>
  </thead>

  <tbody>
  <% @books.each do |book| %>
    <tr>
      <td><%= book.name %></td>
      <td><%= book.author %></td>
      <td><%= book.publisher %></td>
      <td><%= book.price %></td>
      <td><%= book.stock %></td>
      <% if can? :update, book %><td><%= link_to 'Edit', edit_book_path(book), class:'btn btn-primary btn-sm' %></td><% end %>
      <% if can? :delete, book %><td><%= button_to "Delete", book, form: { data: { turbo_confirm: "Are you sure?" } }, method: :delete, class: "btn btn-danger btn-sm" %></td><% end %>
    </tr>
  <% end %>
  </tbody>
</table>
<%= link_to "Back", authenticated_root_path %>

<!--<div id="books">-->
  <%# @books.each do |book| %>
    <%#= render book %>
<!--    <p>-->
      <%#= link_to "Show this book", book %>
<!--    </p>-->
  <%# end %>
<!--</div>-->

<%#= link_to "New book", new_book_path %>
